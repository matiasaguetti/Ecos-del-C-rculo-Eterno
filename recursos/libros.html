<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Libros y Pergaminos — Recursos</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="style.css">
  <style>
    /* Styles pequeños específicos aquí (si ya tienes recurso/style.css, puedes borrar) */
    .chapter-list { display:flex; gap:12px; flex-wrap:wrap; margin:10px 0 18px 0; }
    .chapter-card { background: rgba(0,0,0,0.04); padding:10px 12px; border-radius:8px; cursor:pointer; border:1px solid rgba(0,0,0,0.06); }
    .chapter-card.active { border-color:var(--accent); box-shadow: 0 6px 18px rgba(138,91,58,0.08); }
    .ctrl-btn{ background:var(--accent); color:#fff; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:700; }
    @media (max-width:900px){ .scroll-modal{ width: calc(100% - 24px); } }
  </style>
</head>
<body>
  <header class="banner">
    <div>
      <div class="camp-name">Ecos del Círculo eterno</div>
      <div class="camp-sub">Libros y Pergaminos — Recursos</div>
    </div>
    <nav aria-label="navegación principal">
      <a class="navlink" href="/mapas.html">Mapas</a>
      <a class="navlink" href="/lore.html">Lore</a>
      <a class="navlink" href="/recursos/index.html">Recursos</a>
      <a class="navlink" href="/notas.html">Notas</a>
    </nav>
  </header>

  <main class="wrap">
    <h1 style="font-family:Cinzel,serif">Libros y Pergaminos</h1>
    <p style="color:var(--muted)">Selecciona un capítulo para ver los libros y pergaminos leídos por los personajes.</p>

    <div class="chapter-list" id="chapterList">
      <div class="chapter-card" data-id="05">Capítulo 05 — El Templo del Círculo Eterno</div>
    </div>

    <section id="chapterPreview" style="margin-top:12px;color:var(--muted)">
      <p>Al pulsar sobre un capítulo se abrirá un pergamino modal con los libros y pergaminos (slideshow).</p>
    </section>

    <section style="margin-top:18px">
      <a class="navlink" href="admin.html">Admin — editar Libros & Pergaminos</a>
    </section>
  </main>

  <!-- Modal pergamino -->
  <div id="scrollOverlay" style="display:none; position:fixed; inset:0; background:rgba(2,2,2,0.65); align-items:center; justify-content:center; z-index:1200;">
    <div class="scroll-modal" role="dialog" aria-modal="true" id="scrollModal">
      <button id="closeScroll" style="position:absolute; right:18px; top:18px; background:#b66; color:white; border:none; padding:6px 10px; border-radius:6px; cursor:pointer">Cerrar</button>
      <div class="scroll-header" id="scrollTitle">Capítulo —</div>
      <div class="scroll-body" id="scrollBody">
        <!-- Slideshow container -->
        <div id="librosSlides" style="display:flex; gap:14px; overflow:hidden; transition:transform .4s ease"></div>
        <div style="display:flex;justify-content:center;gap:8px;margin-top:10px;">
          <button id="libPrev" class="ctrl-btn" aria-label="anterior">‹</button>
          <button id="libNext" class="ctrl-btn" aria-label="siguiente">›</button>
        </div>
      </div>
    </div>
  </div>

  <!-- nav buttons outside modal (so they don't overlap content) -->
  <div class="modal-nav left" style="display:none;">
    <button id="modalPrev" class="ctrl-btn" aria-label="anterior grande">‹</button>
  </div>
  <div class="modal-nav right" style="display:none;">
    <button id="modalNext" class="ctrl-btn" aria-label="siguiente grande">›</button>
  </div>

  <script src="js/recursos.js"></script>
  <script src="js/libros.js"></script>
</body>
</html>
